{% extends 'base.html' %}

{% load static %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Edit Item</h1>

    <form method="POST" class="needs-validation" novalidate>
        {% csrf_token %}
        <div class="row">
            <div class="col-md-6 mb-3">
                {{ form.name.label_tag }}
                {{ form.name }}
                <div class="invalid-feedback">
                    Please provide a valid name.
                </div>
            </div>

            <div class="col-md-6 mb-3">
                {{ form.amount.label_tag }}
                {{ form.amount }}
                <div class="invalid-feedback">
                    Please provide a valid amount.
                </div>
            </div>

            <div class="col-md-12 mb-3">
                {{ form.description.label_tag }}
                {{ form.description }}
                <div class="invalid-feedback">
                    Please provide a valid description.
                </div>
            </div>

            <div class="col-md-12 text-center">
                <button class="btn btn-primary" type="submit">Edit Item</button>
            </div>
        </div>
    </form>
</div>

<script>
    // Validasi form menggunakan JavaScript
    (function() {
        'use strict';

        // Pilih semua formulir yang memerlukan validasi kustom
        var forms = document.querySelectorAll('.needs-validation');

        // Loop melalui masing-masing formulir dan mencegah pengiriman formulir jika ada yang tidak valid
        Array.prototype.slice.call(forms)
            .forEach(function(form) {
                form.addEventListener('submit', function(event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
    })();
</script>

<style>
    body {
        background-color: #f7f7f7;
    }

    .container {
        background-color: #ffffff;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);
    }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
    }

    .btn-primary:hover {
        background-color: #0056b3;
        border-color: #0056b3;
    }
</style>
{% endblock %}
